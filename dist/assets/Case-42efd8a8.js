import{j as r,a as e,r as f,H as C,C as N,L as w,f as v,F as I,B as b,b as h,n as p}from"./index-556ed613.js";import{B as E,M as S,C as j}from"./index-6185ea13.js";import{i as d,u as o}from"./index-24776775.js";import{H as B}from"./index-e3b82405.js";import{I as Y,E as $,X as F,b as L}from"./index-04f71517.js";import{P as O}from"./index-3007af2f.js";import"./transition-e37fa31b.js";var x=(a=>(a.INFO="info",a.SUCCESS="success",a.ERROR="error",a.WARNING="warning",a))(x||{});const A=({type:a,text:n})=>{const i=c=>{let s="";switch(c){case"success":s="bg-green-100 text-green-700";break;case"error":s="bg-red-100 text-red-700";break;case"warning":s="bg-yellow-100 text-yellow-700";break;case"info":s="bg-blue-100  text-blue-700";break}return s},t=c=>{let s=null;switch(c){case"success":s=e(L,{className:"w-6 h-6"});break;case"error":s=e(F,{className:"w-6 h-6"});break;case"warning":s=e($,{className:"w-6 h-6"});break;case"info":s=e(Y,{className:"w-6 h-6"});break}return s};return r("div",{className:`flex items-center gap-2  rounded-lg p-4 mb-4 text-sm ${i(a)}`,role:"alert",children:[t(a),e("div",{children:n})]})},H=async({queryKey:a})=>(await d.get(`/case?id=${a[1]}`)).data.result,P=async({queryKey:a})=>(await d.get(`/case-finish?id=${a[1]}`)).data,R=async({queryKey:a})=>(await d.get(`/case-cancel?id=${a[1]}`)).data,Q=()=>{const[a,n]=f.useState(!1),[i]=C(),t=i.get("id"),c=N(),{data:s,isLoading:m}=o(["caseById",t],H,{enabled:!!t}),u=()=>{n(!0),setTimeout(()=>{c("/")},3e3)},y=l=>{switch(l){case"Yardım Bekliyor":return"error";case"Yardım Geliyor":return"info";case"Yardım Ulaştı":return"success";default:return"default"}},g=o(["finishCase",t],P,{enabled:!1,onError:l=>{p.error(`${l.message}`)},onSuccess:()=>{u()}}),k=o(["cancelCase",t],R,{enabled:!1,onError:l=>{p.error(`${l.message}`)},onSuccess:()=>{u()}});return f.useEffect(()=>{t||c("/")},[t,c]),r(w,{children:[m&&e(v,{}),!m&&s?r(I,{children:[r("div",{className:"flex items-center justify-between mb-4",children:[e(O,{title:"Yardım Talebi Detayı"}),e("div",{children:e(E,{label:s.status,type:y(s.status)})})]}),e(A,{type:x.INFO,text:"Gelecekte bu sayfayı kullanarak yarınızı tamamlayabilir veya iptal edebilirsiniz."}),e(B,{isPhone:!0,data:s}),r("div",{className:"flex justify-center gap-2 mt-6",children:[e(b,{label:"Yardımı iptal et",onClick:k.refetch,type:"error"}),e(b,{label:"Yardımı tamamla",onClick:g.refetch,type:"success"})]})]}):r("div",{className:"border-t border-gray-200 text-center pt-8",children:[e("h1",{className:"text-8xl lg:text-9xl font-bold text-black",children:"404"}),e("h3",{className:"text-3xl lg:text-6xl font-medium py-8",children:"Talep Bulunamadı."}),e("p",{className:"text-1xl pb-8 px-12 font-medium",children:"Talep tamamlanmış veya iptal edilmiş olabilir."}),r("div",{className:"flex flex-col md:flex-row gap-4 justify-center items-center",children:[e(h,{to:"/",className:"bg-black text-white font-semibold px-6 py-3 rounded-md",children:"Anasayfa"}),e(h,{to:"/yardim-talebim-var",className:" bg-black text-white font-semibold px-6 py-3 rounded-md",children:"Yardım talebi oluştur"})]})]}),e(S,{title:"",isOpen:a,setIsOpen:n,children:r("div",{className:"flex justify-center flex-col items-center",children:[e(j,{className:" w-24 h-24 bg-green-500 text-white rounded-full "}),e("p",{className:"font-bold pt-4 text-center",children:"Anasayfaya yönlendiriliyorsunuz. Teşekkürler"})]})})]})};export{Q as default};
