import{r as u,H as C,C as N,j as t,L as k,a as e,f as v,F as w,B as f,b as p,n as h}from"./index-c0504ab1.js";import{H as j,M as B,C as T}from"./index-cf9fb4b4.js";import{i as o,u as i}from"./index-227af704.js";import{B as Y}from"./index-f1cf7d92.js";import{P as L}from"./index-7c76a837.js";import"./transition-9a5b5ea5.js";const $=async({queryKey:a})=>(await o.get(`/case?id=${a[1]}`)).data.result,E=async({queryKey:a})=>(await o.get(`/case-finish?id=${a[1]}`)).data,H=async({queryKey:a})=>(await o.get(`/case-cancel?id=${a[1]}`)).data,M=()=>{const[a,r]=u.useState(!1),[x]=C(),s=x.get("id"),c=N(),{data:l,isLoading:d}=i(["caseById",s],$,{enabled:!!s}),m=()=>{r(!0),setTimeout(()=>{c("/")},3e3)},y=n=>{switch(n){case"Yardım Bekliyor":return"error";case"Yardım Geliyor":return"info";case"Yardım Ulaştı":return"success";default:return"default"}},b=i(["finishCase",s],E,{enabled:!1,onError:n=>{h.error(`${n.message}`)},onSuccess:()=>{m()}}),g=i(["cancelCase",s],H,{enabled:!1,onError:n=>{h.error(`${n.message}`)},onSuccess:()=>{m()}});return u.useEffect(()=>{s||c("/")},[s,c]),t(k,{children:[d&&e(v,{}),!d&&l?t(w,{children:[t("div",{className:"flex items-center justify-between mb-4",children:[e(L,{title:"Yardım Talebi Detayı"}),e("div",{children:e(Y,{label:l.status,type:y(l.status)})})]}),e(j,{isPhone:!0,data:l}),t("div",{className:"flex justify-center gap-2 mt-6",children:[e(f,{label:"Yardımı iptal et",onClick:g.refetch,type:"error"}),e(f,{label:"Yardımı tamamla",onClick:b.refetch,type:"success"})]})]}):t("div",{className:"border-t border-gray-200 text-center pt-8",children:[e("h1",{className:"text-8xl lg:text-9xl font-bold text-black",children:"404"}),e("h3",{className:"text-3xl lg:text-6xl font-medium py-8",children:"Talep Bulunamadı."}),e("p",{className:"text-1xl pb-8 px-12 font-medium",children:"Talep tamamlanmış veya iptal edilmiş olabilir."}),t("div",{className:"flex flex-col md:flex-row gap-4 justify-center items-center",children:[e(p,{to:"/",className:"bg-black text-white font-semibold px-6 py-3 rounded-md",children:"Anasayfa"}),e(p,{to:"/yardim-talebim-var",className:" bg-black text-white font-semibold px-6 py-3 rounded-md",children:"Yardım talebi oluştur"})]})]}),e(B,{title:"",isOpen:a,setIsOpen:r,children:t("div",{className:"flex justify-center flex-col items-center",children:[e(T,{className:" w-24 h-24 bg-green-500 text-white rounded-full "}),e("p",{className:"font-bold pt-4 text-center",children:"Anasayfaya yönlendiriliyorsunuz. Teşekkürler"})]})})]})};export{M as default};
